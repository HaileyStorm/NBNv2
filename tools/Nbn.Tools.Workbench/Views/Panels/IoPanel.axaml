<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:Nbn.Tools.Workbench.ViewModels"
             x:Class="Nbn.Tools.Workbench.Views.Panels.IoPanel"
             x:DataType="vm:IoPanelViewModel">
  <ScrollViewer HorizontalScrollBarVisibility="Disabled">
    <StackPanel Spacing="16">
      <Border Classes="card">
        <StackPanel Spacing="8">
          <TextBlock Text="IO + Energy" Classes="card-title" />
          <TextBlock Text="Target brain (selected in Visualizer)" Classes="muted" />
          <TextBox Text="{Binding BrainIdText}" IsReadOnly="True" />
          <TextBlock Text="Use the Visualizer to switch active brains and manage inputs/outputs." Classes="card-subtitle" />
        </StackPanel>
      </Border>

      <Border Classes="card">
        <StackPanel Spacing="8">
          <TextBlock Text="Energy + Cost" Classes="card-title" />
          <Grid ColumnDefinitions="Auto,*,Auto" RowDefinitions="Auto,Auto" ColumnSpacing="8" RowSpacing="6">
            <TextBlock Text="Credit" Classes="muted" />
            <TextBox Grid.Column="1" Text="{Binding EnergyCreditText}" Width="120" />
            <Button Grid.Column="2" Content="Apply" Command="{Binding ApplyEnergyCreditCommand}" />
            <TextBlock Grid.Row="1" Text="Rate" Classes="muted" />
            <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding EnergyRateText}" Width="120" />
            <Button Grid.Row="1" Grid.Column="2" Content="Apply" Command="{Binding ApplyEnergyRateCommand}" />
          </Grid>
          <StackPanel Orientation="Horizontal" Spacing="12">
            <CheckBox Content="Cost Enabled" IsChecked="{Binding CostEnabled}" />
            <CheckBox Content="Energy Enabled" IsChecked="{Binding EnergyEnabled}" />
            <Button Content="Update Flags" Command="{Binding ApplyCostEnergyCommand}" />
          </StackPanel>
        </StackPanel>
      </Border>

      <Border Classes="card">
        <StackPanel Spacing="8">
          <TextBlock Text="Plasticity" Classes="card-title" />
          <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="12" RowSpacing="6">
            <TextBlock Text="Mode" Classes="muted" />
            <ComboBox Grid.Column="1" ItemsSource="{Binding PlasticityModes}" SelectedItem="{Binding SelectedPlasticityMode}" Width="180">
              <ComboBox.ItemTemplate>
                <DataTemplate>
                  <TextBlock Text="{Binding Label}" />
                </DataTemplate>
              </ComboBox.ItemTemplate>
            </ComboBox>
            <CheckBox Grid.Column="2" Content="Enabled" IsChecked="{Binding PlasticityEnabled}" />
            <TextBlock Grid.Row="1" Text="Rate" Classes="muted" />
            <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding PlasticityRateText}" Width="100" />
            <Button Grid.Row="1" Grid.Column="2" Content="Apply" Command="{Binding ApplyPlasticityCommand}" />
          </Grid>
        </StackPanel>
      </Border>
    </StackPanel>
  </ScrollViewer>
</UserControl>
